{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useImageData}from'../ImageProvider';import{Spin}from\"antd\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{var _projectData$find;const{projectData,loading,error}=useImageData();const[currentImageIndex,setCurrentImageIndex]=useState(1);const images=((_projectData$find=projectData.find(project=>project.title===\"banner\"))===null||_projectData$find===void 0?void 0:_projectData$find.images)||[];console.log(images);// Effect to change the image every 3 seconds\nuseEffect(()=>{const intervalId=setInterval(()=>{setCurrentImageIndex(prevIndex=>(prevIndex+1)%images.length);},7000);// Change image every 7 seconds\n// Cleanup interval on component unmount\nreturn()=>clearInterval(intervalId);},[images]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex justify-center items-center\",children:/*#__PURE__*/_jsx(Spin,{size:\"large\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex justify-center items-center text-2xl text-red-800\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full flex justify-center items-center\",children:images.length>0&&/*#__PURE__*/_jsx(\"img\",{src:`${process.env.REACT_APP_S3_URL}${images[currentImageIndex]}`,alt:\"banner\",loading:\"lazy\",className:\"w-full h-full object-cover animate-fade-in\"})});};const LoadingSpinner=()=>/*#__PURE__*/_jsx(\"div\",{className:\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current\\r border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"!absolute !-m-px !h-px !w-px !overflow-hidden\\r !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]\",children:\"Loading...\"})});export default Home;","map":{"version":3,"names":["React","useEffect","useState","useImageData","Spin","jsx","_jsx","jsxs","_jsxs","Home","_projectData$find","projectData","loading","error","currentImageIndex","setCurrentImageIndex","images","find","project","title","console","log","intervalId","setInterval","prevIndex","length","clearInterval","className","children","size","src","process","env","REACT_APP_S3_URL","alt","LoadingSpinner","role"],"sources":["C:/Users/pelle/Bureaublad/Projecten/VKVRESTAURATIES_WEBFOLDER/webfolder/vkvrestauraties/src/pages/Home.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {useImageData} from '../ImageProvider';\r\nimport {Spin} from \"antd\";\r\n\r\nconst Home = () => {\r\n    const {projectData, loading, error} = useImageData();\r\n    const [currentImageIndex, setCurrentImageIndex] = useState(1);\r\n\r\n    const images = projectData.find(project => project.title === \"banner\")?.images || [];\r\n    console.log(images);\r\n\r\n    // Effect to change the image every 3 seconds\r\n    useEffect(() => {\r\n        const intervalId = setInterval(() => {\r\n            setCurrentImageIndex((prevIndex) => (prevIndex + 1) % images.length);\r\n        }, 7000); // Change image every 7 seconds\r\n\r\n        // Cleanup interval on component unmount\r\n        return () => clearInterval(intervalId);\r\n    }, [images]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"w-full h-full flex justify-center items-center\">\r\n                <Spin size=\"large\"/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"w-full h-full flex justify-center items-center text-2xl text-red-800\">\r\n                <p>Error: {error}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full h-full flex justify-center items-center\">\r\n            {images.length > 0 && (\r\n                <img\r\n                    src={`${process.env.REACT_APP_S3_URL}${images[currentImageIndex]}`}\r\n                    alt=\"banner\"\r\n                    loading=\"lazy\"\r\n                    className=\"w-full h-full object-cover animate-fade-in\"\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst LoadingSpinner = () => (\r\n    <div className=\"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-current\r\n                border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]\" role=\"status\">\r\n        <span className=\"!absolute !-m-px !h-px !w-px !overflow-hidden\r\n                    !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]\">Loading...</span>\r\n    </div>\r\n);\r\n\r\nexport default Home;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,OAAQC,YAAY,KAAO,kBAAkB,CAC7C,OAAQC,IAAI,KAAO,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,KAAAC,iBAAA,CACf,KAAM,CAACC,WAAW,CAAEC,OAAO,CAAEC,KAAK,CAAC,CAAGV,YAAY,CAAC,CAAC,CACpD,KAAM,CAACW,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CAE7D,KAAM,CAAAc,MAAM,CAAG,EAAAN,iBAAA,CAAAC,WAAW,CAACM,IAAI,CAACC,OAAO,EAAIA,OAAO,CAACC,KAAK,GAAK,QAAQ,CAAC,UAAAT,iBAAA,iBAAvDA,iBAAA,CAAyDM,MAAM,GAAI,EAAE,CACpFI,OAAO,CAACC,GAAG,CAACL,MAAM,CAAC,CAEnB;AACAf,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAqB,UAAU,CAAGC,WAAW,CAAC,IAAM,CACjCR,oBAAoB,CAAES,SAAS,EAAK,CAACA,SAAS,CAAG,CAAC,EAAIR,MAAM,CAACS,MAAM,CAAC,CACxE,CAAC,CAAE,IAAI,CAAC,CAAE;AAEV;AACA,MAAO,IAAMC,aAAa,CAACJ,UAAU,CAAC,CAC1C,CAAC,CAAE,CAACN,MAAM,CAAC,CAAC,CAEZ,GAAIJ,OAAO,CAAE,CACT,mBACIN,IAAA,QAAKqB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC3DtB,IAAA,CAACF,IAAI,EAACyB,IAAI,CAAC,OAAO,CAAC,CAAC,CACnB,CAAC,CAEd,CAEA,GAAIhB,KAAK,CAAE,CACP,mBACIP,IAAA,QAAKqB,SAAS,CAAC,sEAAsE,CAAAC,QAAA,cACjFpB,KAAA,MAAAoB,QAAA,EAAG,SAAO,CAACf,KAAK,EAAI,CAAC,CACpB,CAAC,CAEd,CAEA,mBACIP,IAAA,QAAKqB,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAC1DZ,MAAM,CAACS,MAAM,CAAG,CAAC,eACdnB,IAAA,QACIwB,GAAG,CAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,gBAAgB,GAAGjB,MAAM,CAACF,iBAAiB,CAAC,EAAG,CACnEoB,GAAG,CAAC,QAAQ,CACZtB,OAAO,CAAC,MAAM,CACde,SAAS,CAAC,4CAA4C,CACzD,CACJ,CACA,CAAC,CAEd,CAAC,CAED,KAAM,CAAAQ,cAAc,CAAGA,CAAA,gBACnB7B,IAAA,QAAKqB,SAAS,CAAC,+KACqF,CAACS,IAAI,CAAC,QAAQ,CAAAR,QAAA,cAC9GtB,IAAA,SAAMqB,SAAS,CAAC,yGACoD,CAAAC,QAAA,CAAC,YAAU,CAAM,CAAC,CACrF,CACR,CAED,cAAe,CAAAnB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}